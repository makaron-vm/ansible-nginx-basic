---
- name: group host by distribution
  hosts: vagrant
  gather_facts: true
  tasks:
    - name: sort by group
      group_by:
        key: "{{ ansible_distribution }}"
    - name: show variables
      debug: var=ansible_distribution
- name: Install JRE on ubuntu
  hosts: Ubuntu
  tasks:
    - name: Install java
      become: true
      apt:
        update_cache: yes
        name:
          - openjdk-11-jre-headless
- name: Install JRE fedora
  hosts: fedora
  tasks:
    - name: install java fedora
      become: true
      yum:
        name:
          - java-11-openjdk-headless

...
